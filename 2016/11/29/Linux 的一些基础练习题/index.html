<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  

  
  <title>Linux 的一些基础练习题 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="练习题：1，显示当前时间，格式为：2016-06-18 10:20:30  答案：date “+%F,%T” 或者 date “+%F %H:%M:%S”  2，显示前天是星期几？  答案：date -d “-2 day” +%A 知识点：一 ，date +%s 是把当前时间转化为秒数         二， date -d @”1523604170″ 把秒数转化回来">
<meta name="keywords" content="Linux,练习题">
<meta property="og:type" content="article">
<meta property="og:title" content="Linux 的一些基础练习题">
<meta property="og:url" content="http://yoursite.com/2016/11/29/Linux 的一些基础练习题/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="练习题：1，显示当前时间，格式为：2016-06-18 10:20:30  答案：date “+%F,%T” 或者 date “+%F %H:%M:%S”  2，显示前天是星期几？  答案：date -d “-2 day” +%A 知识点：一 ，date +%s 是把当前时间转化为秒数         二， date -d @”1523604170″ 把秒数转化回来">
<meta property="og:locale" content="default">
<meta property="og:updated_time" content="2018-06-10T13:16:34.982Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Linux 的一些基础练习题">
<meta name="twitter:description" content="练习题：1，显示当前时间，格式为：2016-06-18 10:20:30  答案：date “+%F,%T” 或者 date “+%F %H:%M:%S”  2，显示前天是星期几？  答案：date -d “-2 day” +%A 知识点：一 ，date +%s 是把当前时间转化为秒数         二， date -d @”1523604170″ 把秒数转化回来">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-Linux 的一些基础练习题" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2016/11/29/Linux 的一些基础练习题/" class="article-date">
  <time datetime="2016-11-28T16:00:00.000Z" itemprop="datePublished">2016-11-29</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Linux 的一些基础练习题
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="练习题："><a href="#练习题：" class="headerlink" title="练习题："></a>练习题：</h2><p>1，显示当前时间，格式为：2016-06-18 10:20:30</p>
<blockquote>
<p>答案：date “+%F,%T” 或者 date “+%F %H:%M:%S”</p>
</blockquote>
<p>2，显示前天是星期几？</p>
<blockquote>
<p>答案：date -d “-2 day” +%A</p>
<p>知识点：一 ，date +%s 是把当前时间转化为秒数         二， date -d @”1523604170″ 把秒数转化回来</p>
</blockquote>
 <a id="more"></a>
<p>3，今天18:30自动关机，并提示用户。</p>
<blockquote>
<p>答案：hutdown -h 18:30 “dao dian guan ji，18:30” 如果想取消此操作输入： shutdown -c</p>
</blockquote>
<p>4，在本机字符终端登录时，除显示原有信息外，在显示当前登录终端号，主机名和当前时间。</p>
<blockquote>
<p>答案：vim /etc/profile.d/kaiji.sh 进去后输入：#<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>**</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong><br>echo your hostname is hostname<br>who am i</p>
</blockquote>
<p>5，显示/var目录下所有以l开头，以一个小写字母结尾，且中间出现至少一位数字的文件或目录。</p>
<blockquote>
<p>答案：ls /var/l<em>[0-9]</em>[[:lower:]]</p>
</blockquote>
<p>6，显示/etc目录下以任意一位数字开头，且以非数字结尾的文件或目录。</p>
<blockquote>
<p>答案：ls /etc/[0-9]*[^0-9]</p>
</blockquote>
<p>7，显示/etc/目录下以非字母开头，后面跟了一个字母及其他任意长度任意字符的文件或目录。</p>
<blockquote>
<p>答案：ls /etc/[^[:alpha:]][a-zA-Z]*</p>
</blockquote>
<p>8，显示/etc/目录下所有以rc开头，并后面是0-6之间的数字，其他为任意字符的文件或目录。</p>
<blockquote>
<p>答案：ls /etc/rc[0-6]*</p>
</blockquote>
<p>9，显示/etc目录下，所有以.d结尾的文件或目录。</p>
<blockquote>
<p>答案：ls /etc/*.d</p>
</blockquote>
<p>10，显示/etc目录下，所有.conf结尾，且以m,n,r,p开头的文件或目录。</p>
<blockquote>
<p>答案：ls /etc/[m,n,r,p]*.conf</p>
</blockquote>
<p>11，只显示/root下的隐藏文件和目录。 只显示/etc下的非隐藏目录</p>
<blockquote>
<p>答案：ls -d /root/.<em> ls /etc/[^.]</em>/ -d</p>
</blockquote>
<p>12，定义别名命令baketc,每天将/etc/目录下的所有文件，备份到/app独立的子目录下，并要求子目录格式为backupYYYY-mm-dd备份过程可见。</p>
<blockquote>
<p>答案：alias baketc=”cp -av /etc /data/backupdate +%F”</p>
</blockquote>
<p>13，创建/app/rootdir目录，并复制/root下所有文件到该目录内，要求保留原有权限。</p>
<blockquote>
<p>答案：mkdir -p /app/rootdir cp -a /root /app/rootdir/</p>
</blockquote>
<p>14，如何创建/testdir/dir1/x,/testdir/dir/y,/testdir/dir/x/a,/testdir/dir/x/b,/testdir/dir/y/a,/testdir/dir/y/b.</p>
<blockquote>
<p>答案：mkdir -p /testdir/dir1/{x,y}/{a,b}</p>
</blockquote>
<p>15，如何创建/testdir/dir2/x,/testdir/dir2/y,/testdir/dir2/x/a,/testdir/dir2/x/b.</p>
<blockquote>
<p>答案：mkdir -p /testdir/dir2/{x/{a,b},y}</p>
</blockquote>
<p>16，如何创建/testdir/dir3,/testdir/dir4,/testdir/dir5,/testdir/dir5/dir6,/testdir/dir5/dir7.</p>
<blockquote>
<p>答案：mkdir -p /testdir/{dir3,dir4,dir5/{dir6,dir7}}</p>
</blockquote>
<p>17，将/etc/issue文件中的内容转化为大写后保存至/tmp/issue.out文件中。</p>
<blockquote>
<p>答案：cat /etc/issue | tr “[a-z]” “[A-Z]” &gt; /tmp/issue.out</p>
</blockquote>
<p>18，将当前系统登录用户的信息转换为大写后保存至/tmp/who.out文件中。</p>
<blockquote>
<p>答案：who | tr “[a-z]” “[A-Z]” &gt;/tmp/who.out</p>
</blockquote>
<p>19，一个linux用户给root发邮件，要求邮件标题为” help”,邮件正文如下：Heello,i am 用户名，The system version is here ,please help me to check it,thanks! 操作系统版本信息</p>
<blockquote>
<p>答案：mail -s “help” root &lt;&lt;123  </p>
<blockquote>
<p>Hello,I am $USER<br>The system version is here,please help me to check it,thanks!<br>cat /etc/centos-release<br>123  </p>
</blockquote>
</blockquote>
<p>20,将/root/下文件列表，显示成一行，并文件名之间用空格隔开。</p>
<blockquote>
<p>答案：ls /root | tr “\n” ” ”</p>
</blockquote>
<p>21，计算1+2+3+..+99+100的总和。</p>
<blockquote>
<p>答案：echo {1..100}|tr ” ” “+”|bc</p>
</blockquote>
<p>22，删除Windows文本文件中的^M字符</p>
<blockquote>
<p>答案：tr -d “\15” win.txt</p>
</blockquote>
<p>23，处理字符串 “xt.,l 1 jr#!$mn 2 c*/fe 3 uz 4” ,只保留其中的数字和空格。</p>
<blockquote>
<p>答案：echo “xt.,l 1 jr#hostnamemn 2 c*/fe 3 uz 4” |tr -dc “[:digit:][:space:]”</p>
</blockquote>
<p>24,将PATH变量每个目录显示在独立的一行。</p>
<blockquote>
<p>答案：echo $PATH |tr “:” “\n”</p>
</blockquote>
<p>25，将指定文件中0-9分别代替成a-j .</p>
<blockquote>
<p>答案：先创建文件touch f1 给f1 vim 输入0-9 cat f1 | tr “[0-9]” “[a-j]”</p>
</blockquote>
<p>26，将文件/etc/centos-release中每个单词（由字母组成）显示在独立的一行，并无空行。</p>
<blockquote>
<p>答案：cat /etc/centos-release |tr -c “[:alpha:]” ” ” |tr -s ” ” “\n”</p>
</blockquote>
<p>27，创建用户gentoo,附加组为bin和root,默认shell为/bin/csh,注释信息为”Gentoo Distribution”.</p>
<blockquote>
<p>答案：useradd -G bin,root -s /bin/csh -c “Gentoo Distribution” gentoo</p>
</blockquote>
<p>28，创建下面的用户，组和组成员关系<br>名字为webs的组 用户nginx使用webs作为附加组 用户varnish,也使用webs作为附加组<br>用户mysql,不可交互登录系统，且不是webs的成员，nbinx,varnish,mysql密码都是magedu</p>
<p> 答案：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">groupadd webs     </span><br><span class="line"> useradd -G webs nginx   </span><br><span class="line"> useradd -G webs varnish        </span><br><span class="line"> useradd -s /sbin/nologin masql  </span><br><span class="line"></span><br><span class="line">echo magedu |passwd –stdin nginx;  </span><br><span class="line">echo magedu |passwd –stdin varnish;  </span><br><span class="line">echo magedu |passwd –stdin mysql;</span><br></pre></td></tr></table></figure></p>
<p>29，当用户docker对/testdir 目录无执行权限时，意味着无法做哪些操作？</p>
<blockquote>
<p>答案： 不能cd进去，不能查看文件详细属性，也不能去访问目录里的文件内容（即使有读权限）。</p>
</blockquote>
<p>30，当用户mongodb对/testdir 目录无读权限时，意味着无法做哪些操作？</p>
<blockquote>
<p>答案：不能对目录下的文件进行访问。</p>
</blockquote>
<p>31， 当用户redis 对/testdir 目录无写权限时，该目录下的只读文件file1是否可修改和删除？</p>
<blockquote>
<p>答案：不能，因为对目录没有权限，所以不能。文件能不能删，不由文件决定，而由目录决定。</p>
</blockquote>
<p>32，当用户zabbix对/testdir 目录有写和执行权限时，该目录下的只读文件file1是否可修改和删除？</p>
<blockquote>
<p>答案：可以修改和删除</p>
</blockquote>
<p>33，复制/etc/fstab 文件到/var/tmp 下，设置文件所有者为tomcat 读写权限，所属组为apps组有读写权限，其他人无权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">答案：（一）cp -a /etc/fstab /var/tmp   </span><br><span class="line">（二） useradd tomcat   </span><br><span class="line">（三） groupadd apps   </span><br><span class="line">（四） chown tomcat /var/tmp   </span><br><span class="line">（五） chgrp apps /var/tmp   </span><br><span class="line">（六） chmod 660 /var/tmp</span><br></pre></td></tr></table></figure>
<p>34，误删除了用户git的家目录，请重建并恢复该用户家目录及相应的权限属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">答案：           rm -rf /home/git ;   </span><br><span class="line">mkdir /home/git;          </span><br><span class="line">cp -a /etc/skel/.[^.]* /home/git;    </span><br><span class="line">chown -R git:git  /home/git;</span><br></pre></td></tr></table></figure>
<p>35,在/testdir/dir 里创建的新文件自动属于webs组，组apps的成员如:tomcat能对这些新文件有读写权限，组dbs的成员如：mysql只能对新文件有读权限，其他用户（不属于webs,apps,dbs）不能访问文件夹。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">答案：   mkdir -p /testdir/dir        </span><br><span class="line">chgrp webs /testdir/dir      </span><br><span class="line">chmod g=s /testdir/dir  </span><br><span class="line"></span><br><span class="line">setfacl -m g:apps:rw /testdir/dir      </span><br><span class="line">setfacl -m g:dbs:r /testdir/dir  </span><br><span class="line">chmod o= /testdir/dir</span><br></pre></td></tr></table></figure>
<p>36，备份/testdir/dir 里所有文件的ACL权限到/root/acl.txt中，清除/testdir/dir中所有ACL权限，最后还原ACL权限。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案：  getfacl -R /testdir/dir &gt; /root/acl.txt    </span><br><span class="line">setfacl -b /testdir/dir  </span><br><span class="line">setfacl -R –set-file=acl.txt   /testdir/dir</span><br></pre></td></tr></table></figure>
<p>37, 找出ifconfig “网卡名” 命令结果中本机的IPv4地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">答案：（方法一）ifconfig ens33 | grep netmask | tr -s ” ” “:” |cut -d: -f3</span><br><span class="line"></span><br><span class="line">（方法二）ifconfig ens33 |egrep -o \&lt;“(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.)&#123;3&#125;([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])”\&gt;</span><br><span class="line"></span><br><span class="line">（方法三）ifconfig ens33 | sed -n “2p” | sed -r s’@(.*inet)(.*)( netmask.*)@\2@’</span><br></pre></td></tr></table></figure>
<p>38，查出分区空间使用率的最大百分比值。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案：（方法一）df | grep ^/dev | tr -s ” ” “:” | cut -d: -f5 |cut -d% -f1 | sort -nr | head -n1</span><br><span class="line"></span><br><span class="line">（方法二） df | grep -o “[0-9]\&#123;1,3\&#125;%” |grep -o “[0-9]\+” |sort -nr |head -n1</span><br></pre></td></tr></table></figure>
<p>39，查出用户UID最大值得用户名，UID及shell类型。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat  /etc/passwd |sort -nr -t: -k3 |head -n1 |cut -d: -f1,3,7</span><br></pre></td></tr></table></figure>
<p>40，查出/tmp的权限，以数字方式显示</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：stat  /tmp |head -n4|tail -n1|cut -d/ -f1|cut -d&apos;(‘ -f2</span><br></pre></td></tr></table></figure>
<p>41， 统计当前连接本机的每个远程主机IP的连接数，并从大到小排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">答案： 先从桌面获取rz 获取文件，再进行处理。    </span><br><span class="line">cat access_log |egrep -o “\&lt;(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.)&#123;3&#125;([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\&gt;”|sort|uniq -dc|sort -nr</span><br></pre></td></tr></table></figure>
<p>42,显示/proc/meminfo 文件中以大小s开头的行（要求：使用两种方法）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案：（方法一）cat /proc/meminfo |egrep -oi ^s.*</span><br><span class="line"></span><br><span class="line">（方法二）cat /proc/meminfo |egrep ^[Ss].*</span><br></pre></td></tr></table></figure>
<p>43，显示/etc/passwd文件中不以/bin/bash结尾的行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat  /etc/passwd |egrep -v /bin/bash$</span><br></pre></td></tr></table></figure>
<p>44，显示用户rpc默认的shell程序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案：（方法一）cat  /etc/passwd |egrep rpc|cut -d: -f1,7</span><br><span class="line"></span><br><span class="line">（方法二）cat  /etc/passwd |egrep rpc|sed -r ‘s/(.*:)([^:]+:?$)/\2/’</span><br></pre></td></tr></table></figure>
<p>45，找出/etc/passwd 中的两位或三位数</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat  /etc/passwd | egrep -o “[0-9]&#123;2,3&#125;”</span><br></pre></td></tr></table></figure>
<p>46，显示Centos7的/etc/grub2.cfg文件中，至少以一个空白字符开头的且后面有非空白字符的行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat  /etc/grub2.cfg |egrep ^[[:space:]][^[:space:]].*$</span><br></pre></td></tr></table></figure>
<p>47，找出”netstat -tan” 命令结果中以LISTEN后跟任意多个空白字符结尾的行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：netstat -tan |egrep .*LISTEN[[:space:]]+</span><br></pre></td></tr></table></figure>
<p>48, 显示Centos7上所有系统用户的用户名和UID。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat  /etc/passwd |egrep .*/sbin/nologin$ |cut -d: -f1,3</span><br></pre></td></tr></table></figure>
<p>49，添加用户bash,testbash,basher,sh,nologin(其shell为/sbin/nologin),找出/etc/passwd用户名和shell同名的行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat  /etc/passwd | egrep “^(.*)(:.*)\1$”</span><br></pre></td></tr></table></figure>
<p>50，利用df和grep，去出磁盘各分区利用率，并从大到小排序。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：df |grep ^/dev |tr -s ” ” “:”|cut -d: -f5 |cut -d% -f1 |sort -nr|head -n1</span><br></pre></td></tr></table></figure>
<p>51，显示三个用户root,mage,wang的UID和默认shell.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat /etc/passwd |egrep ^”(root|mage|wang)” |cut -d: -f1,3,7</span><br></pre></td></tr></table></figure>
<p>52，找出/etc/rc.d/init.d/functions文件中行首为某单词（包括下划线）后面跟一个小括号的行。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：cat /etc/rc.d/init.d/functions | egrep “^[a-zA-Z_]+.*”</span><br></pre></td></tr></table></figure>
<p>53，使用egrep取出/etc/rc.d/init.d/functions中其基名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：echo /etc/rc.d/init.d/functions |egrep -o “[^/]*/?$”</span><br></pre></td></tr></table></figure>
<p>54，使用egrep取出上面 路径的目录名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">答案：（方法一）echo /etc/rc.d/init.d/functions |egrep -o “/.*/”</span><br><span class="line"></span><br><span class="line">（方法二）echo /etc/rc.d/init.d/functions |egrep -o “(/).*\1”</span><br></pre></td></tr></table></figure>
<p>55，统计last命令中以root登录的每个主机IP地址登录次数。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：                  last |egrep root |egrep “\&lt;(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.)&#123;3&#125;([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\&gt;”|tr -s ” ” “:”|sort -t: -k3|cut -d: -f3|uniq -dc</span><br></pre></td></tr></table></figure>
<p>56，利用扩展正则表达式分别表示0-9,10-99，100-199,200-249,250-255.</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：              [0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]</span><br></pre></td></tr></table></figure>
<p>57,显示ifconfig命令结果中所有IPV4地址。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：               ifconfig | egrep -o “\&lt;(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.)&#123;3&#125;([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\&gt;”</span><br></pre></td></tr></table></figure>
<p>58，将此字符串：welcome to magedu linux 中的每个字符去重并排序，重复次数多的放在最前面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">答案：         echo “welcometomagedulinux” |grep -o “.”|sort|uniq -c|sort -nr</span><br></pre></td></tr></table></figure>
<p>59，复制/etc/profile至/tmp/目录，用查找替换命令删除/tmp/profile文件中的行首的空白字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">答案：</span><br><span class="line">cp /etc/profile /tmp/     </span><br><span class="line">vim /tmp/profile     </span><br><span class="line">命令模式下按“:”进入扩展模式输入  </span><br><span class="line">%s/^[[:space:]]*//g</span><br></pre></td></tr></table></figure>
<p>60, 复制/etc/rc.d/init.d/functions文件至/tmp目录，用查找替换命令为/tmp/functions的每行开头为空白字符的行的行首添加一个#号。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">答案：  </span><br><span class="line">cp /etc/rc.d/init.d/functions /tmp     </span><br><span class="line">vim /tmp/functions        </span><br><span class="line">命令模式下按“:”进入扩展模式输入   </span><br><span class="line">%s/^[[:space:]] */#&amp;/  </span><br><span class="line">或者   </span><br><span class="line">%s/[[:space:]]\+.∗[[:space:]]\+.∗/#\1/g</span><br></pre></td></tr></table></figure>
<p>61, 在VIM中设置tab缩进为4个字符。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">答案： </span><br><span class="line">vim /etc/vimrc  </span><br><span class="line">在文件最后添加：  </span><br><span class="line">set ts=4  </span><br><span class="line">set expandtab  </span><br><span class="line">set autoindent  </span><br><span class="line">:wq</span><br></pre></td></tr></table></figure>
<p>62，复制/etc/rc.d/init.d/functions文件至/tmp目录，替换/tmp/functions文件中的/etc/sysconfig/init为/var/log.</p>
<blockquote>
<p>答案：<br>cp /etc/rc.d/init.d/functions /tmp<br>vim /tmp/functions<br>命令模式下按“:”进入扩展模式输入<br> %s@\/etc\/sysconfig\/init@\/var\/log@</p>
</blockquote>
<p>63, 删除/tmp/functions文件中所有以#开头，且#后面至少有一个空白字符的行的行首的#号。</p>
<blockquote>
<p>答案：<br>vim /tmp/functions<br>命令模式下按“:”进入扩展模式输入<br>%s@^#”“+.∗”“+.∗@\1@</p>
</blockquote>
<p>64, 编写脚本/root/bin/systeminfo.sh,显示当前主机系统信息，包括主机名，IPV4，操作系统版本，内核版本，CPU型号，内存大小，硬盘大小。</p>
<blockquote>
<p>答案： vim /root/bin/systeminfo.sh</p>
<p>#<strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><em>**</em></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
</blockquote>
<blockquote>
<p>echo hostname<br>echo ifconfig ens33 | egrep -o “\&lt;(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]<br>).){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])>“|head -n1  </p>
</blockquote>
<blockquote>
<p>echo cat /etc/centos-release  </p>
</blockquote>
<blockquote>
<p>echo uname -r  </p>
</blockquote>
<blockquote>
<p>echo lscpu |grep “^Model name.*” |cut -d: -f2|tr -s “ “  </p>
</blockquote>
<blockquote>
<p>echo cat /proc/meminfo |head -n1  </p>
</blockquote>
<blockquote>
<p>echo lsblk |grep ‘^sda’|tr -s “ “ “%”|cut -d% -f4  </p>
</blockquote>
<blockquote>
<p>:wq</p>
</blockquote>
<p>65, 编写脚本/root/bin/backup.sh,可实现每日将/etc/目录备份到/root/etcYYY-mm-dd中。</p>
<blockquote>
<p>vim /root/bin/backup.sh<br>cp -a /etc /root/etcdate +%F<br>:wq</p>
</blockquote>
<p>66,编写脚本/root/bin/disk.sh,显示当前硬盘分区中空间利用率最大的值。</p>
<blockquote>
<p>答案：       e=df|egrep ^/dev |tr -s “ “ “:”|cut -d: -f5|cut -d% -f1|sort -nr|head -n1  </p>
<p>echo $e                                                                                                                                                                             ：wq</p>
</blockquote>
<p>67, 编写脚本/root/bin/links.sh ，显示正连接本主机的每个远程主机的IPV4地址和连接数，并按连接数从大到小排序。</p>
<pre><code>答案：   
vim /root/bin/linsk.sh    
a=cat access_log |egrep -o &quot;\&lt;(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\&gt;&quot;|sort|uniq -c|sort -nr
echo $a
</code></pre><p>68, 编写脚本/root/bin/sumid.sh ,计算/etc/passwd 文件中的第10个用户和第20用户的ID之和。</p>
<blockquote>
<p>答案：<br>vim /root/bin/sumid.sh<br>a=cat /etc/passwd | head -n10 |tail -n1|cut -d: -f3</p>
<p>b=cat /etc/passwd | head -n20 |tail -n1|cut -d: -f3</p>
<p>let c=a+b 或 d=$[ a+b ]  </p>
<p>echo $d</p>
</blockquote>
<p>69, 编写脚本/root/bin/sumspace.sh ,传递两个文件路径作为参数给脚本，计算这两个文件中所有空白行之和。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">答案：   </span><br><span class="line">vim /root/bin/sumspace.sh  </span><br><span class="line">a=cat f1 |egrep ^[[:space:]]*$ |wc -l  </span><br><span class="line">b=cat f2 |egrep ^[[:space:]]*$ |wc -l  </span><br><span class="line">let c=a+b</span><br></pre></td></tr></table></figure>
<p>70, 编写脚本/root/bin/sumfile.sh ,统计/etc ,/var,/usr 目录中共有多少个一级子目录和文件。</p>
<blockquote>
<p>答案：<br>vim /root/bin/sumfile.sh<br>a=ls /etc/ |wc -l<br>b=ls /var/ |wc -l c=ls /usr/ |wc -l<br>let d=a+b+c</p>
</blockquote>
<p>71, 编写脚本/root/bin/argsnum.sh ,接受一个文件路径作为参数；如果参数个数小于1，则提示用户 “至少应该给一个参数”，并立即退出；如果参数个数不少于1，则显示第一个参数所指向的文件中的空白行数。</p>
<blockquote>
<p>答案：<br>vim /root/bin/argsnum.sh  </p>
<p>[ $# -lt 1] &amp;&amp;  echo “At least one parameter should be given” &amp;&amp; exit<br>[ $# -ge 1] &amp;&amp;  echo egrep “^[[:space:]]*$”  $1|wc -l</p>
</blockquote>
<p>73, 编写脚本/root/bin/hostping.sh ,接受一个主机的IPV4地址做为参数，测试是否可连通。如果能ping通，则提示用户 “该IP地址可以访问” ；如果不可ping通，则提示用户 “该IP地址不可访问”。</p>
<blockquote>
<p>答案：<br>vim /root/bin/hostping.sh </p>
<p>[[ $1 =~ “\&lt;(([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5]]]).){3}([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])>” ]] || echo { “IP error”;exit; }     </p>
<p>ping $1 &amp;&amp; echo “This address can be accessed”|| echo “This address cannot be accessed”</p>
</blockquote>
<p>74, 编写脚本/root/bin/checkdisk.sh , 检查磁盘分区空间和inode使用率，如果超过80%，就发广播警告空间将满。</p>
<blockquote>
<p>答案：<br>vim /root/bin/checkdisk.sh  </p>
<p>a=df |egrep ^/dev |tr -s “ “ “:” |cut -d: -f5 |cut -d% -f1|sort -nr|head -n1<br>[[ $a -ge 80 ]] &amp;&amp; echo “zhao huo la ” || echo { “yi qie zheng chang”;exit; }</p>
</blockquote>
<p>75, 编写脚本/bin/per.sh ,判断当前用户对指定参数文件，是否不可读并且不可写。</p>
<blockquote>
<p>答案：<br>[ -not -r $1 -a -not -w $1 ] &amp;&amp; echo “bu ke du ”<br>[ −r$1−o−w$1−r$1−o−w$1 ] || echo “ke du ”</p>
</blockquote>
<p>76，编写脚本/root/bin/excute.sh ,判断参数文件是否为sh后缀的普通文件，如果是，添加所有人可执行权限，否则提示用户非脚本文件。</p>
<blockquote>
<p>答案：<br>vim /root/bin/excute.sh<br>[[ $1 =~ .*sh$ ]] &amp;&amp; chmod +x $1 || echo “bu shi jiao ben wen jian “</p>
</blockquote>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2016/11/29/Linux 的一些基础练习题/" data-id="cjlblz3om0008t4rbm2paoohv" class="article-share-link">Share</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/">Linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/练习题/">练习题</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/12/08/TCP、IP协议三次握手与四次握手流程解析（）/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          TCP、IP协议三次握手与四次握手流程解析
        
      </div>
    </a>
  
  
    <a href="/2016/11/23/对正则表达式，VIM编辑器命令的基本操作（三）/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">对正则表达式，VIM编辑器命令的基本操作</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/CA/">CA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DHCP/">DHCP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DNS/">DNS</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LAMP/">LAMP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MYSQL/">MYSQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/SSH/">SSH</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TCP-IP/">TCP/IP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dns/">dns</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/haproxy/">haproxy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keepalied/">keepalied</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lvs/">lvs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/memcache/">memcache</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mini系统/">mini系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/mysql/">mysql</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rpm/">rpm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sed/">sed</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/su和sudo/">su和sudo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tomcat/">tomcat</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/varnish/">varnish</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/共享服务/">共享服务</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基本命令/">基本命令</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件系统/">文件系统</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/权限管理/">权限管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/用户组/">用户组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/练习题/">练习题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/自动化安装/">自动化安装</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/进程管理、计划任务/">进程管理、计划任务</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/CA/" style="font-size: 10px;">CA</a> <a href="/tags/DHCP/" style="font-size: 10px;">DHCP</a> <a href="/tags/DNS/" style="font-size: 15px;">DNS</a> <a href="/tags/LAMP/" style="font-size: 10px;">LAMP</a> <a href="/tags/Linux/" style="font-size: 20px;">Linux</a> <a href="/tags/MYSQL/" style="font-size: 15px;">MYSQL</a> <a href="/tags/SSH/" style="font-size: 10px;">SSH</a> <a href="/tags/TCP-IP/" style="font-size: 10px;">TCP/IP</a> <a href="/tags/dns/" style="font-size: 10px;">dns</a> <a href="/tags/haproxy/" style="font-size: 10px;">haproxy</a> <a href="/tags/keepalied/" style="font-size: 12.5px;">keepalied</a> <a href="/tags/lvs/" style="font-size: 10px;">lvs</a> <a href="/tags/memcache/" style="font-size: 10px;">memcache</a> <a href="/tags/mini系统/" style="font-size: 10px;">mini系统</a> <a href="/tags/mysql/" style="font-size: 17.5px;">mysql</a> <a href="/tags/rpm/" style="font-size: 10px;">rpm</a> <a href="/tags/sed/" style="font-size: 10px;">sed</a> <a href="/tags/su和sudo/" style="font-size: 10px;">su和sudo</a> <a href="/tags/tomcat/" style="font-size: 12.5px;">tomcat</a> <a href="/tags/varnish/" style="font-size: 10px;">varnish</a> <a href="/tags/共享服务/" style="font-size: 12.5px;">共享服务</a> <a href="/tags/基本命令/" style="font-size: 10px;">基本命令</a> <a href="/tags/文件系统/" style="font-size: 12.5px;">文件系统</a> <a href="/tags/权限管理/" style="font-size: 10px;">权限管理</a> <a href="/tags/用户组/" style="font-size: 10px;">用户组</a> <a href="/tags/练习题/" style="font-size: 10px;">练习题</a> <a href="/tags/自动化安装/" style="font-size: 10px;">自动化安装</a> <a href="/tags/进程管理、计划任务/" style="font-size: 10px;">进程管理、计划任务</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/08/09/Nginx 各种实验演示/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/08/09/Nginx 详细介绍/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/08/09/日志管理介绍/">(no title)</a>
          </li>
        
          <li>
            <a href="/2018/08/09/Linux 防火墙各种规则实战应用/">(no title)</a>
          </li>
        
          <li>
            <a href="/2017/10/15/memcache  缓存原理介绍/">memcache  缓存原理介绍</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 John Doe<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>