<!DOCTYPE html><html lang="null"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>浅谈 tomcat 原理 | Hexo</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">浅谈 tomcat 原理</h1><a id="logo" href="/.">Hexo</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> Start</i></a><a href="/archives/"><i class="fa fa-archive"> Archiv</i></a><a href="/about/"><i class="fa fa-user"> Über</i></a><a href="/atom.xml"><i class="fa fa-rss"> RSS</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">浅谈 tomcat 原理</h1><div class="post-meta"><a href="/2017/10/05/浅谈 tomcat 原理/#comments" class="comment-count"></a><p><span class="date">Oct 05, 2017</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>Schlägt</i></i></span></p></div><div class="post-content"><p>程序=指令+数据<br>    程序=算法+数据结构<br>    编程范式：<br>        一算法为中心，数据结构服务于算法：过程式编程<br>        以数据为中心，代码服务于数据：对象式编程<br>            对象：属性、方法<br>            类别：实例化–对象，对象互操作<br>    过程式编程： C，bash ，Python , golang…<br>    对象式编程：java , Kotlin , c++  , Ruby , Pthon…</p>
<pre><code>golang:docker , etcd , kubernetes,...
java:hadoop, hbase , zookeeper , kafka , ...


write once,run anywhere : 一次编写，到处运行。

java 的核心目标在于不同的系统环境上，不同的底层硬件平台上都能够使一个代码在不同的环境下运行
库：代码 标注库， 3rd party（第三方库）
java:编程语言，类库，JVM（java虚拟机），类文件格式（字节码文件）

java 虚拟机是不能直接执行 java 的源代码的，需要先进行编译，编译是针对 java 虚拟机进行编译的 ，但 java 虚拟机所接受进来的也是字节码（bytecode）,
cgi ：通用网关接口技术
</code></pre> <a id="more"></a>   
<pre><code>jsp： java 服务器页面

执行过程： .jsp -&gt; jasper -&gt; .java(servlet) -&gt; javac -&gt; .class -&gt; jvm 


java 在2006年分为 标准版 java se 和 企业版 java ee 两个版本
java ee 相当于在 se 的基础上添加了一些企业级的类库
    如： servlet : 主要是以类似 cgi 的方式运行 cs 架构或者 bs 架构当中的服务端程序的
         但 servlet 无论是程序本身应该处理的问题并生成结果还是 html 的标签等一应的信息都必须用程序来进行输出，后来为了能够实现类似嵌入的方式把 java 代码嵌入在 html 的文档中，就有了 jsp 类库。

         当然这两个类库只是 java 企业级类库中的两个，一般来讲，拥有这两个类库的组建就称为 java ee ，而这个 ee 自身也能实现外部服务并能够容纳其他 java 企业级程序运行起来，就可以称之为这是一个 web container （外部容器）


tomcat:
    自身也是 java 语言所开发，而它自己额外又实现的是 java 企业级类库 java ee
    所以要运行 tomcat server ，首先要把它跑在 jvm 之上，运行为一个 java 进程

tomcat 算上是 java ee 的不完整实现，但所实现的类库也是 java ee 中最主流，最核心，最常用的两个类库。


tomcat 是纯 java 代码实现的，那么它应该每个组建都是由 类来实现是的。
    tomcat 为了能够实现作为一个外部服务器并能支撑外部服务器所能够具有的功能，他通过很多的类所生成的组建来处理并响应用户请求，最外层的组建叫 server ，一个 server 进程就相当于一个实例。

连接器不能跟引擎直接产生关系。
    一个 server 内可以有多个引擎，一个连接器只能属于一个引擎，而一个引擎可以有多个连接器，那么一个 server 内的多个连接器到底属于哪个引擎，就由 service 来决定的，一个 service 内只能有一个引擎但可以有多个连接器，所有要执行的 jsp 代码要放在引擎内才能执行。
    一个引擎就代表了一个 httpd 的服务实例，而一个 httpd 的服务可以有多个虚拟主机，而这的虚拟主机不定义在 server 中，而定义在enginer(引擎)中，一个 engine 中有多个 host ，一个 host 内部有多个 context 



  接下来安装 tomcat ，安装 tomcat 首先要把 JDK 安装上。

  安装 JDK 的方法：
        可以直接在 centos 系统上安装 rpm 包就可以。
        yum install java-1.8.0-openjdk-devel
        不过这种包是开源的版本。

        也可以在官网上下载oracle  版本的 JDK 
        先下载包： 
            jdk-8u144-linux-x64.rpm
        安装包：
            rpm -ihv jdk-8u144-linux-x64.rpm
        然后在配置文件中把一些工具加入 PATH 变量
            vim /etc/profile.d/java.sh
            export JAVA_HOME=/usr/java/latest/
            export PATH=$JAVA_HOME/bin:$PAth

            在生效一下     exec bash 

    这就是使用 oracle 官方的 RPM 包的安装和环境的设定方式
     yum 安装的不用设定这些就可以直接使用的
     安装完可以查看当前的 java 环境 ： java -version



    接下来安装 tomcat 
        安装 tomcat 也有两种方法
        一种也是直接在本机用 yum install 安装就行。
        yum install tomcat tomcat-webapps tomcat-admin-webapps tomcat-docs-webapp
        安装完重启
        syatemctl start tomcat
        启动后开启三个端口   8080  8009  8005 
        8080  HTTP 连接器
        8009  ajp 连接器
        8005  本地管理接口
       由rpm 包安装的 tomcat 的配置文件都放在





        另一种是在 ASF 官网上下载一个 tomcat 版本，下载的版本必须是编译完成的版本
        下载包：
            apache-tomcat-8.5.32.tar.gz
        安装包：
            tar xf apache-tomcat-8.5.32.tar.gz -C /usr/local/
        cd /usr/local
        ln -sv apache-tomcat-8.5.32 tomcat
        cd tomcat/
        创建一个普通用户
        useradd tomcat
        chown tomcat.tomcat tomcat
        chown -R :tomcat ./*
        chown -R tomcat logs/ temp/ work/
        chmod g+rx conf/
        chmod g+rx conf/*
        把相关工具加进 PATH 变量
        vim /etc/profile.d/tomcat.sh
        export CATALINA_BASE=/usr/local/tomcat
        export PATH=$CATALINA_BASE/bin:$PATH
        生效一下
        . /etc/profile.d/tomcat.sh 
        然后切换到普通用户 tomcat 
        执行 catalina.sh start
        服务就起来了
        相应的三个端口也开启了   8080  8009  8005
        由官网下载编译完的包安装的 tomcat 来讲，他的配置文件都放在 /usr/local/tomcat/ 目录下
        主站点的根目录都放在这个目录的 ROOT 目录下。


编程语言：
硬件级：微码编程，汇编语言
系统级：C，C++，...
应用级：Java, PHP, Python, Ruby, Perl, C#, ...
    Python： PVM
        Standard Library
            Web Framework：Django, Flask, ...
    Java：JVM，JDK
    bash：bash explainer
    ...

程序：指令+数据
    过程式编程：以指令为中心，数据服务于代码；
    对象式编程：以数据为中心，指令服务于数据；
        对象，方法（method）

Java：
    Sun, Green Project, Oak,  James Gosling;
    1995：Java 1.0, Write once, Run Anywhere;
    1996：JDK（Java Development Kit），包含类库(API)、开发工具(javac)、JVM（SUN Classic VM）  
        JDK 1.0,  Applet, AWT
    1997：JDK 1.1
    1998: JDK  1.2
        Sun分拆Java技术为三个方向：
            J2SE：Standard Edition
            J2EE：Enterprise Edition
            J2ME：Mobile Edition

        代表性技术：EJB，java plugin, Swing, JIT(Just In Time，即时编译)

    2000：JDK 1.3
        HotSpot VM
    2002：JDK 1.4

    2006：Sun开源了Java技术，GPL，建立一个称为OpenJDK组织；
        Java 2 SE, Java 2 EE, Java 2 ME

    2011：JDK 1.7
    2014：JDK 1.8
    2016：JDK 1.9

Java代码的运行：
    *.java(source code) --&gt; javac --&gt; *.class(bytecode)
        jvm：class loader，加载程序的类文件，及程序的类文件依赖到的其它的类文件而后运行； 整个运行表现为一个jvm进程；
            threads；

java技术体系：
    Java编程语言
    Java Class文件格式
    Java API 
    Java VM 
        class loader
        执行引擎

    JVM运行时区域：
        方法区：线程共享； 用于存储被JVM加载的class信息、常量、静态变量、方法等；
        堆：是jvm所管理的内存中占用空间最大的一部分；也是GC管理的主要区域；存储对象；
        Java栈：线程私有，存储 线程自己的局部变量；
        PC寄存器：线程私有的内存空间，程序的指令指针；
        本地方法栈：    

安装JDK
    了解当前的java环境：
         ~]# java  -version

    OpenJDK： 
        java-VERSION-openjdk：
            The OpenJDK runtime environment.
        java-VERSION-openjdk-headless：
             The OpenJDK runtime environment without audio and video support.
        java-VERSION-openjdk-devel：
            The OpenJDK development tools.

        CentOS 7：
            VERSION：1.6.0, 1.7.0, 1.8.0

        注意：多版本并存时，可使用 alternatives命令设定默认使用的版本；

    Oracle JDK：
        安装相应版本的rpm包；
            jdk-VERSION-OS-ARCH.rpm
            例如:jdk-1.8.0_25-linux-x64.rpm 

        注意：安装完成后，要配置JAVA_HOME环境变量，指向java的安装路径；
            OpenJDK：
                JAVA_HOME=/usr
            Oracle JDK:
                JAVA_HOME=/usr/java/jdk_VERSION



Java 2 EE：
    CGI: Common Gateway Interface

    Servlet：
        类库；web app；
        Servlet container, Servlet Engine

    JSP: Java Server Page
        类库：
        &lt;html&gt;
            &lt;title&gt;TITLE&lt;/title&gt;
            &lt;body&gt;
                &lt;h1&gt;...&lt;/h1&gt;
                &lt;%
                    ... java code...
                %&gt;
            &lt;/body&gt;
        &lt;/html&gt;

        .jsp --&gt;jasper--&gt; .java --&gt; javac --&gt; .class --&gt; jvm 

        注意：基于jasper将静态输出的数据转为java代码进行输出，结果为servlet规范的代码；

    JSP Container：
        JSP + Servlet Container

        Java Web Server：JWS
        ASF：JServ

            O&apos;Reilly

            Tomcat 3.x
            Tomcat 4.x
                Catalina

            http://tomcat.apache.org/

        商业实现：
            WebSphere, WebLogic, Oc4j, Glassfish, Geronimo, JOnAS, JBoss, ...
        开源实现：
            Tomcat, Jetty, Resin, ...

        Tomcat： Java 2 EE技术体系的不完整实现； 

    安装Tomcat:
        Base Repo：
            tomcat, tomcat-lib, tomcat-admin-webapps, tomcat-webapps, tomcat-docs-webapp

        Tomcat binary release：
            # tar xf apache-tomcat-VERSION.tar.gz  -C /usr/local/
            # cd /usr/local
            # ln -sv apache-tomcat-VERSION  tomcat


            /etc/profile.d/tomcat.sh 
                export CATALINA_BASE=/usr/local/tomcat
                export PATH=$CATALINA_BASE/bin:$PATH    

tomcat程序环境：

    tomcat的目录结构
        bin：脚本，及启动时用到的类；
        conf：配置文件目录；
        lib：库文件，Java类库，jar；
        logs：日志文件目录；
        temp：临时文件目录；
        webapps：webapp的默认目录；
        work：工作目录，存放编译后的字节码文件；


    # catalina.sh --help
        debug             Start Catalina in a debugger
        debug -security   Debug Catalina with a security manager
        jpda start        Start Catalina under JPDA debugger
        run               Start Catalina in the current window
        run -security     Start in the current window with security manager
        start             Start Catalina in a separate window
        start  -security   Start in a separate window with security manager
        stop              Stop Catalina, waiting up to 5 seconds for the process to end
        stop n            Stop Catalina, waiting up to n seconds for the process to end
        stop -force       Stop Catalina, wait up to 5 seconds and then use kill -KILL if still running
        stop n -force     Stop Catalina, wait up to n seconds and then use kill -KILL if still running
        configtest        Run a basic syntax check on server.xml - check exit code for result
        version           What version of tomcat are you running?                


    rpm包安装的程序环境：
        配置文件目录：/etc/tomcat
            主配置文件：server.xml 
        webapps存放位置：/var/lib/tomcat/webapps/
            examples
            manager
            host-manager
            docs
        Unit File：tomcat.service
        环境配置文件：/etc/sysconfig/tomcat



Tomcat：
    使用java语言编写：

    tomcat的配置文件构成：
        server.xml：主配置文件；
        web.xml：每个webapp只有“部署”后才能被访问，它的部署方式通常由web.xml进行定义，其存放位置为WEB-INF/目录中；此文件为所有的webapps提供默认部署相关的配置；
        context.xml：每个webapp都可以使用的配置文件，它通常由专用的配置文件context.xml来定义，其存放位置为WEB-INF/目录中；此文件为所有的webapps提供默认配置；
        tomcat-users.xml：用户认证的账号和密码文件；角色（role），用户（User）；此文件在tomcat启动时被装入内存；
        catalina.policy：当使用-security选项启动tomcat时，用于为tomcat设置安全策略； 
        catalina.properties：Java属性的定义文件，用于设定类加载器路径，以及一些与JVM调优相关参数；
        logging.properties：日志系统相关的配置；    
        tomcat.conf或/etc/sysconfig/tomcat:定义tomcat 相关的java进程的，做系统资源配置的
                    在较早版本是只有 /etc/sysconfig/tomcat 这一个文件  ，这两个文件是兼容的

    Tomcat的核心组件：server.xml
        &lt;Server&gt;
            &lt;Service&gt;
                &lt;connector/&gt;
                &lt;connector/&gt;
                ...
                &lt;Engine&gt;
                    &lt;Host&gt;
                        &lt;Context/&gt;
                        &lt;Context/&gt;
                        ...
                    &lt;/Host&gt;
                    &lt;Host&gt;
                        ...
                    &lt;/Host&gt;
                    ...
                &lt;/Engine&gt;
            &lt;/Service&gt;
        &lt;/Server&gt;




        每一个组件都由一个Java“类”实现，这些组件大体可分为以下几个类型：
            顶级组件：Server，代表一个运行的 tomcat 实例
            服务类组件：Service
            连接器组件：http, https, ajp（apache jserv protocol）
            容器类：Engine, Host, Context
            被嵌套类：valve（过滤器）, logger（日志记录器）, realm（认证工具）, loader（类加载器）, manager（会话管理器）, ...
            集群类组件：listener, cluster, ...
</code></pre><h4 id="tomcat-常用的配置文件的组件信息："><a href="#tomcat-常用的配置文件的组件信息：" class="headerlink" title="tomcat 常用的配置文件的组件信息："></a>tomcat 常用的配置文件的组件信息：</h4><pre><code>        server : 指定默认的端口，不指定IP 默认监听在 127.0.0.1 上。

        service ： 只是用来把连接器关联至 engine 之上的



    JSP WebAPP的组织结构：
        /: webapps的根目录
            index.jsp, index.html：主页；
            ...
            WEB-INF/：当前webapp的私有资源路径；通常用于存储当前webapp的web.xml和context.xml配置文件；
            META-INF/：类似于WEB-INF/；
            classes/：类文件，当前webapp所提供的类；
            lib/：类文件，当前webapp所提供的类，被打包为jar格式；

            DocumentRooot /webdata/htdocs/
                /images/

                http://www.ilinux.io/images/

    webapp归档格式：
        .war：webapp; （外部 app 的归档文件）
        .jar：EJB的类打包文件(类库)；
        .rar：资源适配器类打包文件；
        .ear：企业级webapp；
        ...
什么是部署？
    把一个应用程序及应用程序所依赖的类文件根据 web.xml 以及 context.xml 中的定义由类加载器加载至 JVM 之上，这就是部署。
    部署完以后要想能够响应并处理客户端请求，那要 start 起来，要先启动，不过在一般情况下自动启动的。但想停止就直接 stop 。停止仅仅是暂停在内存中，而不是拆除。

部署(deploy)webapp的相关操作：
    deploy：将webapp的源文件放置于目标目录(网页程序文件存放目录)，配置tomcat服务器能够基于web.xml和context.xml文件中定义的路径来访问此webapp；将其特有的类和依赖的类通过class loader装载至JVM；
        部署有两种方式：
            自动部署：auto deploy
            手动部署:
                冷部署：把webapp复制到指定的位置，而后才启动tomcat；
                热部署：在不停止tomcat的前提下进行部署；
                    部署工具：manager、ant脚本、tcd(tomcat client deployer  tomcat 部署器)等；                    
    undeploy：拆除（反部署），停止webapp，并从tomcat实例上卸载webapp；
    start：启动处于停止状态的webapp；
    stop：停止webapp，不再向用户提供服务；其类依然在jvm上；
    redeploy：重新部署；

手动提供一测试类应用，并冷部署：
    # mkidr  -pv  /usr/local/tomcat/webapps/test/{classes,lib,WEB-INF}
    创建文件/usr/local/tomcat/webapps/test/index.jsp 
        &lt;%@ page language=&quot;java&quot; %&gt;
        &lt;%@ page import=&quot;java.util.*&quot; %&gt;
        &lt;html&gt;
            &lt;head&gt;
                &lt;title&gt;Test Page&lt;/title&gt;
            &lt;/head&gt;
            &lt;body&gt;
                &lt;% out.println(&quot;hello world&quot;);
                %&gt;
            &lt;/body&gt;
        &lt;/html&gt;        


一般在生产中，怎么获取开发人员开发的代码？
    在一般生产中，代码都是存放一个指定的 GIT 上，然后运维人员到 GIT 上去脱代码。如：
    代码路径在 http://gitlab.ilinux.io/test.git
    运维人员去的时候在本机输入   git clona http://gitlab.ilinux.io/test.git
   克隆到本地以后就会在当前目录下生成一个 ./test/目录，代码都放在这个目录下。
  另外托代码时 很有可能也是打包后的格式，


tomcat的两个管理应用:
    manager
    host-manager

tomcat的常用组件配置：

    Server：代表tomcat instance，即表现出的一个java进程；监听在8005端口，只接收“SHUTDOWN”。各server监听的端口不能相同，因此，在同一物理主机启动多个实例时，需要修改其监听端口为不同的端口； 
        port=&quot;-1&quot;,
        shutdown=&quot;RANDOM_CHARCTER&quot;

    Service：用于实现将一个或多个connector组件关联至一个engine组件；

    Connector组件：
        负责接收请求，常见的有三类http/https/ajp；

        进入tomcat的请求可分为两类：
            (1) standalone : 请求来自于客户端浏览器；
            (2) 由其它的web server反代：来自前端的反代服务器；
                nginx --&gt; http connector --&gt; tomcat 
                httpd(proxy_http_module) --&gt; http connector --&gt; tomcat
                httpd(proxy_ajp_module) --&gt; ajp connector --&gt; tomcat 
                httpd(mod_jk) --&gt; ajp connector --&gt; tomcat 

        属性：
            port=&quot;8080&quot; 
            protocol=&quot;HTTP/1.1&quot;
            connectionTimeout=&quot;20000&quot;

            address：监听的IP地址；默认为本机所有可用地址；
            maxThreads：最大并发连接数，默认为200；
            enableLookups：是否启用DNS查询功能；
            acceptCount：等待队列的最大长度；
            secure：
            sslProtocol：

    Engine组件：Servlet实例，即servlet引擎，其内部可以一个或多个host组件来定义站点； 通常需要通过defaultHost来定义默认的虚拟主机；

        属性：
            name=
            defaultHost=&quot;localhost&quot;
            jvmRoute=

    Host组件：位于engine内部用于接收请求并进行相应处理的主机或虚拟主机，示例：
         &lt;Host name=&quot;localhost&quot;  appBase=&quot;webapps&quot;
            unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;
        &lt;/Host&gt;

        常用属性说明：
            (1) appBase：此Host的webapps的默认存放目录，指存放非归档的web应用程序的目录或归档的WAR文件目录路径；可以使用基于$CATALINA_BASE变量所定义的路径的相对路径；
            (2) autoDeploy：在Tomcat处于运行状态时，将某webapp放置于appBase所定义的目录中时，是否自动将其部署至tomcat；

            示例：
              &lt;Host name=&quot;tc1.magedu.com&quot; appBase=&quot;/appdata/webapps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;
            &lt;/Host&gt;

            # mkdir -pv /appdata/webapps
            # mkdir -pv /appdata/webapps/ROOT/{lib,classes,WEB-INF}
            提供一个测试页即可；

    Context组件:
        示例：
            &lt;Context path=&quot;/PATH&quot; docBase=&quot;/PATH/TO/SOMEDIR&quot; reloadable=&quot;&quot;/&gt;

    综合示例：
        &lt;Host name=&quot;node1.magedu.com&quot; appBase=&quot;/web/apps&quot; unpackWARs=&quot;true&quot; autoDeploy=&quot;true&quot;&gt;
            &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;
                prefix=&quot;node1_access&quot; suffix=&quot;.log&quot;
                pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;
            &lt;Context path=&quot;/test&quot; docBase=&quot;test&quot; reloadable=&quot;&quot;&gt;
                &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;
                prefix=&quot;node1_test_access_&quot; suffix=&quot;.log&quot;
                pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;
            &lt;/Context&gt;
        &lt;/Host&gt;        

    Valve组件：
        &lt;Valve className=&quot;org.apache.catalina.valves.AccessLogValve&quot; directory=&quot;logs&quot;
            prefix=&quot;localhost_access_log&quot; suffix=&quot;.txt&quot;
            pattern=&quot;%h %l %u %t &amp;quot;%r&amp;quot; %s %b&quot; /&gt;

        Valve存在多种类型：
            定义访问日志：org.apache.catalina.valves.AccessLogValve
            定义访问控制：org.apache.catalina.valves.RemoteAddrValve 

             &lt;Valve className=&quot;org.apache.catalina.valves.RemoteAddrValve&quot; deny=&quot;172\.16\.100\.67&quot;/&gt;



LNMT：Linux Nginx MySQL Tomcat 
    Client (http) --&gt; nginx (reverse proxy)(http) --&gt; tomcat  (http connector)

    location / {
        proxy_pass http://tc1.magedu.com:8080;
    }

    location ~* \.(jsp|do)$ {
        proxy_pass http://tc1.magedu.com:8080;
    }

LAMT：Linux Apache(httpd) MySQL Tomcat 
    httpd的代理模块：
        proxy_module
        proxy_http_module：适配http协议客户端；
        proxy_ajp_module：适配ajp协议客户端；

    Client (http) --&gt; httpd (proxy_http_module)(http) --&gt; tomcat  (http connector)
    Client (http) --&gt; httpd (proxy_ajp_module)(ajp) --&gt; tomcat  (ajp connector)
    Client (http) --&gt; httpd (mod_jk)(ajp) --&gt; tomcat  (ajp connector)

    proxy_http_module代理配置示例：
        &lt;VirtualHost *:80&gt;
            ServerName      tc1.magedu.com
            ProxyRequests Off
            ProxyVia        On
            ProxyPreserveHost On
            &lt;Proxy *&gt;
                Require all granted
            &lt;/Proxy&gt;
            ProxyPass / http://tc1.magedu.com:8080/
            ProxyPassReverse / http://tc1.magedu.com:8080/ 
            &lt;Location /&gt;
                Require all granted
            &lt;/Location&gt;
        &lt;/VirtualHost&gt;


        location /test/ {
            proxy_pass http://172.16.0.76:8080/;
        }

    proxy_ajp_module代理配置示例：
        &lt;VirtualHost *:80&gt;
            ServerName      tc1.magedu.com
            ProxyRequests Off    关闭正向代理
            ProxyVia        On
            ProxyPreserveHost On
            &lt;Proxy *&gt;
                Require all granted
            &lt;/Proxy&gt;
                ProxyPass / ajp://tc1.magedu.com:8009/ 
                ProxyPassReverse / ajp://tc1.magedu.com:8009/ 
            &lt;Location /&gt;
                Require all granted
            &lt;/Location&gt;
        &lt;/VirtualHost&gt;

    /data/webapps/eshop
        eshop-1.1
        eshop-1.2
        eshop-1.3
        eshop-1.4


课外实践：
    client --&gt; nginx --&gt; httpd --&gt; tomcat
    proxy_http_module)(http) --&gt; tomcat  (http connector)
    Client (http) --&gt; httpd (proxy_ajp_module)(ajp) --&gt; tomcat  (ajp connector)

课外练习：
    根据文档，部署javaee-bbs或solo；
</code></pre><p>回顾：</p>
<pre><code>jsp: java server page 
Java 2 SE --&gt; Java 2 EE
    Tomcat：JDK + Servlet, JSP

server.xml：
    &lt;server&gt;
        &lt;service&gt;
            &lt;connector /&gt;
            ...
            &lt;Engine&gt;
                &lt;Host&gt;
                    &lt;Context/&gt;
                    ...
                &lt;/Host&gt;
                ...
            &lt;/Engine&gt;
        &lt;/service&gt;
    &lt;/server&gt;

Tomcat处理的请求：
    nt：nginx-&gt;http-&gt;tomcat(http connector)
    at：httpd-&gt;http-&gt;tomcat(http connector)
        httpd-&gt;ajp-&gt;tomcat(ajp connector)

    nat, hat


会话保持：
    (1) session sticky
        source_ip
            nginx: ip_hash
            haproxy: source
            lvs: sh
        cookie：
            nginx：hash 
            haproxy: cookie
    (2) session cluster：delta session manager
    (3) session server：redis(store), memcached(cache)

Tomcat Cluster(session)
    (1) session sticky
    (2) session cluster
        tomcat delta manager
    (3) session server 
        memcached

Tomcat Cluster
    (1) httpd + tomcat cluster
        httpd: mod_proxy, mod_proxy_http, mod_proxy_balancer
        tomcat cluster：http connector
    (2) httpd + tomcat cluster
        httpd: mod_proxy, mod_proxy_ajp, mod_proxy_balancer
        tomcat cluster：ajp connector
    (3) httpd + tomcat cluster
        httpd: mod_jk
        tomcat cluster：ajp connector
    (4) nginx + tomcat cluster


    第一种方法的实现：
        &lt;proxy balancer://tcsrvs&gt;
            BalancerMember http://172.18.100.67:8080
            BalancerMember http://172.18.100.68:8080
            ProxySet lbmethod=byrequests
        &lt;/Proxy&gt;

        &lt;VirtualHost *:80&gt;
            ServerName lb.magedu.com
            ProxyVia On
            ProxyRequests Off
            ProxyPreserveHost On
            &lt;Proxy *&gt;
                Require all granted
            &lt;/Proxy&gt;
            ProxyPass / balancer://tcsrvs/
            ProxyPassReverse / balancer://tcsrvs/
            &lt;Location /&gt;
                Require all granted
            &lt;/Location&gt;
        &lt;/VirtualHost&gt;    

    BalancerMember：
        BalancerMember [balancerurl] url [key=value [key=value ...]]
            status：
                D: Worker is disabled and will not accept any requests.
                S: Worker is administratively stopped.
                I: Worker is in ignore-errors mode and will always be considered available.
                H: Worker is in hot-standby mode and will only be used if no other viable workers are available.
                E: Worker is in an error state.
                N: Worker is in drain mode and will only accept existing sticky sessions destined for itself and ignore all other requests.
            loadfactor：
                负载因子，即权重；
            lbmethod：
                Balancer load-balance method. Select the load-balancing scheduler method to use. Either byrequests, to perform weighted request counting; bytraffic, to perform weighted traffic byte count balancing; or bybusyness, to perform pending request balancing. The default is byrequests.
            stickysession
                Balancer sticky session name. The value is usually set to something like JSESSIONID or PHPSESSIONID, and it depends on the backend application server that support sessions. If the backend application server uses different name for cookies and url encoded id (like servlet containers) use | to separate them. The first part is for the cookie the second for the path.
                Available in Apache HTTP Server 2.4.4 and later.

    会话粘性的实现方法：
        Header add Set-Cookie &quot;ROUTEID=.%{BALANCER_WORKER_ROUTE}e; path=/&quot; env=BALANCER_ROUTE_CHANGED

        &lt;proxy balancer://tcsrvs&gt;
            BalancerMember http://172.18.100.67:8080 route=TomcatA loadfactor=1
            BalancerMember http://172.18.100.68:8080 route=TomcatB loadfactor=2
            ProxySet lbmethod=byrequests
            ProxySet stickysession=ROUTEID
        &lt;/Proxy&gt;

        &lt;VirtualHost *:80&gt;
            ServerName lb.magedu.com
            ProxyVia On
            ProxyRequests Off
            ProxyPreserveHost On
            &lt;Proxy *&gt;
                Require all granted
            &lt;/Proxy&gt;
            ProxyPass / balancer://tcsrvs/
            ProxyPassReverse / balancer://tcsrvs/
            &lt;Location /&gt;
                Require all granted
            &lt;/Location&gt;
        &lt;/VirtualHost&gt;    

        启用管理接口：
            &lt;Location /balancer-manager&gt;
                SetHandler balancer-manager
                ProxyPass !
                Require all granted
            &lt;/Location&gt;                

            示例程序：
                演示效果，在TomcatA上某context中（如/test），提供如下页面
                &lt;%@ page language=&quot;java&quot; %&gt;
                &lt;html&gt;
                    &lt;head&gt;&lt;title&gt;TomcatA&lt;/title&gt;&lt;/head&gt;
                    &lt;body&gt;
                        &lt;h1&gt;&lt;font color=&quot;red&quot;&gt;TomcatA.magedu.com&lt;/font&gt;&lt;/h1&gt;
                        &lt;table align=&quot;centre&quot; border=&quot;1&quot;&gt;
                            &lt;tr&gt;
                                &lt;td&gt;Session ID&lt;/td&gt;
                            &lt;% session.setAttribute(&quot;magedu.com&quot;,&quot;magedu.com&quot;); %&gt;
                                &lt;td&gt;&lt;%= session.getId() %&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;Created on&lt;/td&gt;
                                &lt;td&gt;&lt;%= session.getCreationTime() %&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/table&gt;
                    &lt;/body&gt;
                &lt;/html&gt;


                演示效果，在TomcatB上某context中（如/test），提供如下页面
                &lt;%@ page language=&quot;java&quot; %&gt;
                &lt;html&gt;
                    &lt;head&gt;&lt;title&gt;TomcatB&lt;/title&gt;&lt;/head&gt;
                        &lt;body&gt;
                        &lt;h1&gt;&lt;font color=&quot;blue&quot;&gt;TomcatB.magedu.com&lt;/font&gt;&lt;/h1&gt;
                        &lt;table align=&quot;centre&quot; border=&quot;1&quot;&gt;
                            &lt;tr&gt;
                                &lt;td&gt;Session ID&lt;/td&gt;
                            &lt;% session.setAttribute(&quot;magedu.com&quot;,&quot;magedu.com&quot;); %&gt;
                                &lt;td&gt;&lt;%= session.getId() %&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                            &lt;tr&gt;
                                &lt;td&gt;Created on&lt;/td&gt;
                                &lt;td&gt;&lt;%= session.getCreationTime() %&gt;&lt;/td&gt;
                            &lt;/tr&gt;
                        &lt;/table&gt;
                        &lt;/body&gt;
                &lt;/html&gt;            

    第二种方式：
            &lt;proxy balancer://tcsrvs&gt;
                BalancerMember ajp://172.18.100.67:8009
                BalancerMember ajp://172.18.100.68:8009
                ProxySet lbmethod=byrequests
            &lt;/Proxy&gt;

            &lt;VirtualHost *:80&gt;
                ServerName lb.magedu.com
                ProxyVia On
                ProxyRequests Off
                ProxyPreserveHost On
                &lt;Proxy *&gt;
                    Require all granted
                &lt;/Proxy&gt;
                ProxyPass / balancer://tcsrvs/
                ProxyPassReverse / balancer://tcsrvs/
                &lt;Location /&gt;
                    Require all granted
                &lt;/Location&gt;
                &lt;Location /balancer-manager&gt;
                    SetHandler balancer-manager
                    ProxyPass !
                    Require all granted
                &lt;/Location&gt;
            &lt;/VirtualHost&gt;    

        保持会话的方式参考前一种方式。    

Tomcat Session Replication Cluster：
        (1) 配置启用集群，将下列配置放置于&lt;engine&gt;或&lt;host&gt;中；
            &lt;Cluster className=&quot;org.apache.catalina.ha.tcp.SimpleTcpCluster&quot;
                    channelSendOptions=&quot;8&quot;&gt;

                &lt;Manager className=&quot;org.apache.catalina.ha.session.DeltaManager&quot;
                    expireSessionsOnShutdown=&quot;false&quot;
                    notifyListenersOnReplication=&quot;true&quot;/&gt;

                &lt;Channel className=&quot;org.apache.catalina.tribes.group.GroupChannel&quot;&gt;
                &lt;Membership className=&quot;org.apache.catalina.tribes.membership.McastService&quot;
                        address=&quot;228.0.0.4&quot;
                        port=&quot;45564&quot;
                        frequency=&quot;500&quot;
                        dropTime=&quot;3000&quot;/&gt;
                &lt;Receiver className=&quot;org.apache.catalina.tribes.transport.nio.NioReceiver&quot;
                    address=&quot;auto&quot;
                    port=&quot;4000&quot;
                    autoBind=&quot;100&quot;
                    selectorTimeout=&quot;5000&quot;
                    maxThreads=&quot;6&quot;/&gt;

                &lt;Sender className=&quot;org.apache.catalina.tribes.transport.ReplicationTransmitter&quot;&gt;
                &lt;Transport className=&quot;org.apache.catalina.tribes.transport.nio.PooledParallelSender&quot;/&gt;
                &lt;/Sender&gt;
                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.TcpFailureDetector&quot;/&gt;
                &lt;Interceptor className=&quot;org.apache.catalina.tribes.group.interceptors.MessageDispatch15Interceptor&quot;/&gt;
                &lt;/Channel&gt;

                &lt;Valve className=&quot;org.apache.catalina.ha.tcp.ReplicationValve&quot;
                    filter=&quot;&quot;/&gt;
                &lt;Valve className=&quot;org.apache.catalina.ha.session.JvmRouteBinderValve&quot;/&gt;

                &lt;Deployer className=&quot;org.apache.catalina.ha.deploy.FarmWarDeployer&quot;
                    tempDir=&quot;/tmp/war-temp/&quot;
                    deployDir=&quot;/tmp/war-deploy/&quot;
                    watchDir=&quot;/tmp/war-listen/&quot;
                    watchEnabled=&quot;false&quot;/&gt;

                &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener&quot;/&gt;
                &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.ClusterSessionListener&quot;/&gt;
                &lt;/Cluster&gt;    

            确保Engine的jvmRoute属性配置正确。

        (2) 配置webapps
            编辑WEB-INF/web.xml，添加&lt;distributable/&gt;元素；

        注意：CentOS 7上的tomcat自带的文档中的配置示例有语法错误；
            &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.JvmRouteSessionIDBinderListener&quot;/&gt;
            &lt;ClusterListener className=&quot;org.apache.catalina.ha.session.ClusterSessionListener&quot;/&gt;

            绑定的地址为auto时，会自动解析本地主机名，并解析得出的IP地址作为使用的地址；

Tomcat的常用优化配置：
    (1) 内存空间：
        /etc/sysconfig/tomcat, /etc/tomcat/tomcat.conf, /usr/local/tomcat/bin/catalina.sh
            JAVA_OPTS=&quot;-server -Xms32g -Xmx32g -XX:NewSize= -XX:MaxNewSize= -XX:PermSize= -XX:MaxPermSize=&quot;
                -server：服务器模型
                -Xms：堆内存初始化大小；
                -Xmx：堆内存空间上限；
                -XX:NewSize=：新生代空间初始化大小；                    
                -XX:MaxNewSize=：新生代空间最大值；
                -XX:PermSize=：持久代空间初始化大小；
                -XX:MaxPermSize=：持久代空间最大值； 

    (2) 线程池设置：
        &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;  connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt;

        常用属性：
            maxThreads：最大线程数；最大并发连接数；
            minSpareThreads：最小空闲线程数；
            maxSpareThreads：最大空闲线程数；
            acceptCount：等待队列的最大长度；
            URIEncoding：URI地址编码格式，建议使用UTF-8；
            enableLookups：是否启用dns解析，建议禁用； 
            compression：是否启用传输压缩机制，建议“on&quot;;
            compressionMinSize：启用压缩传输的数据流最小值，单位是字节；
            compressableMimeType：定义启用压缩功能的MIME类型；
                text/html, text/xml, text/css, text/javascript


    (3) 禁用8005端口；
        &lt;Server port=&quot;-1&quot; shutdown=&quot;SHUTDOWN&quot;&gt;

    (4) 隐藏版本信息：
        &lt;Connector port=&quot;8080&quot; protocol=&quot;HTTP/1.1&quot;  connectionTimeout=&quot;20000&quot; redirectPort=&quot;8443&quot; /&gt;

        Server=&quot;SOME STRING&quot;

Tomcat Session Server (memcached)

    https://github.com/magro/memcached-session-manager

    支持的session server类型：
        memcached：
        couchbase：
        redis：

    示例方案：
        Tomcat7：
            memcached
            javolution

博客作业：tomcat
    (1) nginx + tomcat cluster, httpd(proxy_http_module)+tomcat cluster, httpd(proxy_ajp_module)+tomcat cluster；
        特别说明会话保持的实现方式；
    (2) tomcat cluster升级为session cluster, 使用deltaManager；
    (3) tomcat cluster将会话保存至memcached中；


实践作业：
    hat或nat集群，用session server方式部署solo，javaee-bbs二者之一；


JVM常用的分析工具： 
    jps：用来查看运行的所有jvm进程；
    jinfo：查看进程的运行环境参数，主要是jvm命令行参数；
    jstat：对jvm应用程序的资源和性能进行实时监控；
    jstack：查看所有线程的运行状态；
    jmap：查看jvm占用物理内存的状态；
    jconsole：
    jvisualvm：

    jps：Java virutal machine Process Status tool，
        jps [-q] [-mlvV] [&lt;hostid&gt;]
            -q：静默模式；
            -v：显示传递给jvm的命令行参数；
            -m：输出传入main方法的参数；
            -l：输出main类或jar完全限定名称；
            -V：显示通过flag文件传递给jvm的参数；
            [&lt;hostid&gt;]：主机id，默认为localhost；

    jinfo：输出给定的java进程的所有配置信息；
        jinfo [option] &lt;pid&gt;
            -flags：to print VM flags
            -sysprops：to print Java system properties
            -flag &lt;name&gt;：to print the value of the named VM flag

    jstack：查看指定的java进程的线程栈的相关信息；
        jstack [-l] &lt;pid&gt;
        jstack -F [-m] [-l] &lt;pid&gt;
            -l：long listings，会显示额外的锁信息，因此，发生死锁时常用此选项；
            -m：混合模式，既输出java堆栈信息，也输出C/C++堆栈信息；
            -F：当使用“jstack -l PID&quot;无响应，可以使用-F强制输出信息；

    jstat：输出指定的java进程的统计信息
        jstat -help|-options
        jstat -&lt;option&gt; [-t] [-h&lt;lines&gt;] &lt;vmid&gt; [&lt;interval&gt; [&lt;count&gt;]]

        # jstat -options
            -class：class loader
            -compiler：JIT
            -gc：gc
            -gccapacity：统计堆中各代的容量
            -gccause：
            -gcmetacapacity
            -gcnew：新生代
            -gcnewcapacity
            -gcold：老年代
            -gcoldcapacity
            -gcutil
            -printcompilation

        [&lt;interval&gt; [&lt;count&gt;]]
            interval：时间间隔，单位是毫秒；
            count：显示的次数；

        -gc：
            YGC：新生代的垃圾回收次数；
            YGCT：新生代垃圾回收消耗的时长； 
            FGC：Full GC的次数；
            FGCT：Full GC消耗的时长；
            GCT：GC消耗的总时长；


    图形工具：
        jconsole
        jvisualvm

    jmap：Memory Map, 用于查看堆内存的使用状态； 
    jhat：Java Heap Analysis Tool
        jmap [option] &lt;pid&gt;

        查看堆空间的详细信息：
            jmap -heap &lt;pid&gt;

        查看堆内存中的对象的数目：
            jmap -histo[:live] &lt;pid&gt;
                live：只统计活动对象；

        保存堆内存数据至文件中，而后使用jvisualvm或jhat进行查看：
            jmap -dump:&lt;dump-options&gt; &lt;pid&gt;
                dump-options:
                live         dump only live objects; if not specified, all objects in the heap are dumped.
                format=b     binary format
                file=&lt;file&gt;  dump heap to &lt;file&gt;    

课外作业：了解何为full gc，如何应对；
</code></pre><p><img src="https://s1.ax1x.com/2018/07/17/Pl6td1.png" alt="Pl6td1.png"></p>
</div><div class="tags"><a href="/tags/Linux/">Linux</a><a href="/tags/tomcat/">tomcat</a></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/2017/10/08/tomcat 各种架构实验演示/" class="pre">tomcat 各种架构实验演示</a><a href="/2017/09/25/Varnish 缓存服务器介绍/" class="next">Varnish 缓存服务器介绍</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">Inhalte</i></div><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#tomcat-常用的配置文件的组件信息："><span class="toc-text">tomcat 常用的配置文件的组件信息：</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> Letzte</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/08/09/keepalived高可用/">Ansible</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/09/Nginx 各种实验演示/">Nginx 各种实验演示</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/09/Nginx 详细介绍/">Nginx 详细介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/09/日志管理介绍/">日志管理介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/09/Linux 防火墙各种规则实战应用/">Linux 防火墙各种规则实战应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/15/memcache  缓存原理介绍/">memcache  缓存原理介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/08/tomcat 各种架构实验演示/">tomcat 各种架构实验演示</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/05/浅谈 tomcat 原理/">浅谈 tomcat 原理</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/25/Varnish 缓存服务器介绍/">Varnish 缓存服务器介绍</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/14/keepalived 各种高可用实战演练/">keepalived 各种高可用实战演练</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> Tags</i></div><div class="tagcloud"><a href="/tags/mysql/" style="font-size: 15px;">mysql</a> <a href="/tags/Linux/" style="font-size: 15px;">Linux</a> <a href="/tags/DNS/" style="font-size: 15px;">DNS</a> <a href="/tags/haproxy/" style="font-size: 15px;">haproxy</a> <a href="/tags/用户组/" style="font-size: 15px;">用户组</a> <a href="/tags/LAMP/" style="font-size: 15px;">LAMP</a> <a href="/tags/权限管理/" style="font-size: 15px;">权限管理</a> <a href="/tags/练习题/" style="font-size: 15px;">练习题</a> <a href="/tags/su和sudo/" style="font-size: 15px;">su和sudo</a> <a href="/tags/MYSQL/" style="font-size: 15px;">MYSQL</a> <a href="/tags/文件系统/" style="font-size: 15px;">文件系统</a> <a href="/tags/SSH/" style="font-size: 15px;">SSH</a> <a href="/tags/TCP-IP/" style="font-size: 15px;">TCP/IP</a> <a href="/tags/varnish/" style="font-size: 15px;">varnish</a> <a href="/tags/DHCP/" style="font-size: 15px;">DHCP</a> <a href="/tags/keepalied/" style="font-size: 15px;">keepalied</a> <a href="/tags/自动化/" style="font-size: 15px;">自动化</a> <a href="/tags/memcache/" style="font-size: 15px;">memcache</a> <a href="/tags/lvs/" style="font-size: 15px;">lvs</a> <a href="/tags/tomcat/" style="font-size: 15px;">tomcat</a> <a href="/tags/共享服务/" style="font-size: 15px;">共享服务</a> <a href="/tags/rpm/" style="font-size: 15px;">rpm</a> <a href="/tags/自动化安装/" style="font-size: 15px;">自动化安装</a> <a href="/tags/基本命令/" style="font-size: 15px;">基本命令</a> <a href="/tags/CA/" style="font-size: 15px;">CA</a> <a href="/tags/dns/" style="font-size: 15px;">dns</a> <a href="/tags/sed/" style="font-size: 15px;">sed</a> <a href="/tags/mini系统/" style="font-size: 15px;">mini系统</a> <a href="/tags/进程管理、计划任务/" style="font-size: 15px;">进程管理、计划任务</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> Archiv</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">October 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">September 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">August 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/05/">May 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/04/">April 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/03/">March 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/02/">February 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/01/">January 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/12/">December 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/11/">November 2016</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> Blogroll</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">RSS</a> |  <a href="/about/">Über</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">John Doe.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>